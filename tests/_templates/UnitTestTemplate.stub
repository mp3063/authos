<?php

declare(strict_types=1);

namespace Tests\Unit\Services;

use App\Services\{{SERVICE_NAME}};
use App\Models\{{MODEL_NAME}};
use Mockery;
use PHPUnit\Framework\Attributes\Test;
use Tests\TestCase;

/**
 * Unit Test for {{SERVICE_NAME}}
 *
 * This test verifies the BUSINESS LOGIC and ALGORITHMS within {{SERVICE_NAME}}
 * in isolation from external dependencies (database, HTTP, cache, etc.).
 *
 * WHAT ARE UNIT TESTS?
 * - Test ISOLATED logic (single class/method)
 * - Test PURE functions and algorithms
 * - MOCK external dependencies (database, HTTP, services)
 * - Fast execution (no I/O operations)
 * - Test edge cases and boundary conditions
 *
 * WHEN TO USE THIS TEMPLATE:
 * - Testing service classes with business logic
 * - Testing algorithms and calculations
 * - Testing data transformation logic
 * - Testing validation logic
 * - Testing utility functions
 *
 * WHEN NOT TO USE (use Integration test instead):
 * - Testing database interactions
 * - Testing API endpoints
 * - Testing complete workflows
 * - Testing multi-step processes
 *
 * @group unit
 * @group {{SERVICE_SLUG}}
 */
class {{TEST_CLASS_NAME}} extends TestCase
{
    private {{SERVICE_NAME}} $service;

    protected function setUp(): void
    {
        parent::setUp();
        $this->service = new {{SERVICE_NAME}}();
    }

    protected function tearDown(): void
    {
        Mockery::close();
        parent::tearDown();
    }

    #[Test]
    public function method_returns_expected_result_for_valid_input()
    {
        // ARRANGE
        $input = ['value' => 'test'];

        // ACT
        $result = $this->service->method($input);

        // ASSERT
        $this->assertEquals('expected', $result);
    }

    #[Test]
    public function method_handles_empty_input_gracefully()
    {
        // ARRANGE
        $emptyInput = [];

        // ACT
        $result = $this->service->method($emptyInput);

        // ASSERT
        $this->assertEmpty($result);
    }

    #[Test]
    public function method_throws_exception_for_invalid_input()
    {
        // ARRANGE
        $invalidInput = -1;

        // ASSERT
        $this->expectException(\InvalidArgumentException::class);

        // ACT
        $this->service->method($invalidInput);
    }
}
